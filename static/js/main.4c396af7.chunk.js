(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__1P5Hk",photoBox:"ProfileInfo_photoBox__3hxBO",photo:"ProfileInfo_photo__Dswa3",infoBox:"ProfileInfo_infoBox__2J4s4",contacts:"ProfileInfo_contacts__2uQGR",button:"ProfileInfo_button__1j9hy",changePhotoButton:"ProfileInfo_changePhotoButton__3I_q_",label:"ProfileInfo_label__D5Bjh"}},15:function(e,t,a){e.exports={paginatorBox:"Paginator_paginatorBox__11NSL",pages:"Paginator_pages__1bTGj",button:"Paginator_button__Zv7H3",currentPageButton:"Paginator_currentPageButton__3kaAr"}},20:function(e,t,a){e.exports={userGrid:"Users_userGrid__25k23",userElem:"Users_userElem__BBPRL",followButton:"Users_followButton__2jKvV"}},21:function(e,t,a){e.exports={header:"Header_header__1VmKP",loginButton:"Header_loginButton__34TUz",menuBurger:"Header_menuBurger__lsRup",burger:"Header_burger__3zsFT",menuList:"Header_menuList__1wyqA"}},23:function(e,t,a){e.exports={footer:"Footer_footer__2oYbL",icon:"Footer_icon__2JPwi",vk_icon:"Footer_vk_icon__1taNp",git_icon:"Footer_git_icon__2iCIl"}},24:function(e,t,a){e.exports={gridBox:"Login_gridBox__20x2p",error:"Login_error__1StN3"}},32:function(e,t,a){e.exports=a.p+"static/media/avatar.b6af28a5.svg"},36:function(e,t,a){e.exports={nav:"Navbar_nav__30ZrY"}},42:function(e,t,a){e.exports={loadBox:"Preloader_loadBox__2vc1i",ldsDualRing:"Preloader_ldsDualRing__2ccPD"}},54:function(e,t,a){e.exports=a.p+"static/media/github-logo_icon-2.76d344f0.svg"},55:function(e,t,a){e.exports=a.p+"static/media/vk-icon.70cc8ed5.svg"},60:function(e,t,a){e.exports={main:"MainContainer_main__1_gRS"}},61:function(e,t,a){e.exports=a(90)},66:function(e,t,a){},67:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(26),l=a.n(r),c=(a(66),a(28)),u=a(29),i=a(35),s=a(34),m=(a(67),a(5)),f=a(21),d=a.n(f),h=a(7),p=a(1),b=a(53).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"33535a47-115a-49b0-a0bc-a497e771ba13"}}),g=function(){return b.get("auth/me")},E=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return b.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},v=function(){return b.delete("auth/login")},O=function(e){return b.get("profile/".concat(e))},_=function(e){return b.put("profile",e)},k=function(e){return b.get("profile/status/".concat(e))},j=function(e){return b.put("profile/status",{status:e})},S=function(e){var t=new FormData;return t.append("image",e),b.put("profile/photo",t)},C=function(e,t,a,n){return b.get("users?page=".concat(e,"&count=").concat(n,"&friend=").concat(t,"&term=").concat(a))},w=function(e){return b.post("follow/".concat(e))},T=function(e){return b.delete("follow/".concat(e))},P=function(){return b.get("security/get-captcha-url")},N={userId:null,email:null,login:null,isAuth:!1,isLoading:!0,captchaURL:null,errorSubmit:null},B=function(e,t,a,n){return{type:"SET-USER",userData:{userId:e,email:t,login:a},isAuth:n}},A=function(e){return{type:"SET-IS-LOADING",isLoading:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER":return Object(p.a)(Object(p.a)(Object(p.a)({},e),t.userData),{},{isAuth:t.isAuth});case"SET-IS-LOADING":return Object(p.a)(Object(p.a)({},e),{},{isLoading:t.isLoading});case"SET-CAPTCHA-URL":return Object(p.a)(Object(p.a)({},e),{},{captchaURL:t.url});case"SET-ERROR-SUBMIT":return Object(p.a)(Object(p.a)({},e),{},{errorSubmit:t.error});default:return e}},y=Object(h.b)((function(e){return{isAuth:e.auth.isAuth}}),{LogoutThunk:function(){return function(e){e(A(!0)),v().then((function(t){0===t.data.resultCode&&e(B(null,null,null,!1)),e(A(!1))})).catch((function(e){console.log(e)}))}}})((function(e){var t=function(t){e.LogoutThunk()};return o.a.createElement("header",{className:d.a.header},e.isAuth?o.a.createElement("div",{className:d.a.loginButton,onClick:t},o.a.createElement("button",null,"\u0412\u044b\u0439\u0442\u0438")):o.a.createElement("div",{className:d.a.loginButton},o.a.createElement(m.b,{to:"/login"},o.a.createElement("button",null,"\u0412\u043e\u0439\u0442\u0438"))),o.a.createElement("nav",{className:d.a.menuBurger},o.a.createElement("div",{className:d.a.burger}),o.a.createElement("div",{className:d.a.menuList},o.a.createElement(m.b,{to:"/profile"},o.a.createElement("div",null,"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c")),o.a.createElement(m.b,{to:"/users"},o.a.createElement("div",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")),e.isAuth?o.a.createElement(m.b,{to:"/login",onClick:t},o.a.createElement("div",null,"\u0412\u044b\u0439\u0442\u0438")):o.a.createElement(m.b,{to:"/login"},o.a.createElement("div",null,"\u0412\u043e\u0439\u0442\u0438")))))})),F=a(23),I=a.n(F),x=a(54),U=a.n(x),R=a(55),D=a.n(R),J=function(e){return o.a.createElement("footer",{className:I.a.footer},o.a.createElement("div",{className:I.a.icon},o.a.createElement("a",{href:"https://vk.com/id327824311"},o.a.createElement("img",{src:D.a,alt:"vk_icon",className:I.a.vk_icon}))),o.a.createElement("div",{className:I.a.icon},o.a.createElement("a",{href:"https://github.com/EfanovNikita"},o.a.createElement("img",{src:U.a,alt:"git_icon",className:I.a.git_icon}))))},M=a(16),H=a(56),G=a(57),W={profile:"",status:""},Z=function(e){return{type:"SET-PROFILE",profile:e}},V=function(e){return{type:"SET-STATUS",status:e}},K=function(e){return function(t){k(e).then((function(e){t(V(e.data))})).catch((function(e){console.log(e)}))}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PROFILE":return Object(p.a)(Object(p.a)({},e),{},{profile:Object(p.a)(Object(p.a)({},t.profile),{},{contacts:Object(p.a)({},t.profile.contacts),photos:Object(p.a)({},t.profile.photos)})});case"SET-STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.status});case"SET-PHOTOS":return Object(p.a)(Object(p.a)({},e),{},{profile:Object(p.a)(Object(p.a)({},e.profile),{},{photos:t.photos})});default:return e}},q={users:null,totalCount:null},z=function(e){return{type:"SET-USERS",users:e}},$=function(e){return{type:"SET-TOTAL-COUNT",totalCount:e}},Q=function(e,t){return{type:"SET-FOLLOW",follow:e,userId:t}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case"SET-TOTAL-COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalCount:t.totalCount});case"SET-FOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?(e.followed=t.follow,e):e}))});default:return e}},ee=Object(M.combineReducers)({auth:L,profilePage:Y,usersPage:X}),te=Object(M.createStore)(ee,Object(H.composeWithDevTools)(Object(M.applyMiddleware)(G.a)));window.store=te;var ae=te,ne=a(3),oe=a(36),re=a.n(oe),le=function(e){return o.a.createElement("nav",{className:re.a.nav},o.a.createElement(m.b,{to:"/profile",activeClassName:re.a.activeButton},o.a.createElement("div",null,"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430")),o.a.createElement(m.b,{to:"/users",activeClassName:re.a.activeButton},o.a.createElement("div",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438")))},ce=a(6),ue=a(13),ie=a.n(ue),se=Object(h.b)((function(e){return{status:e.profilePage.status,authId:e.auth.userId}}),{getStatusThunk:K,setStatusThunk:function(e){return function(t){j(e).then((function(a){0===a.data.resultCode&&t(V(e))})).catch((function(e){console.log(e)}))}}})((function(e){var t=Object(n.useState)(e.status),a=Object(ce.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),u=Object(ce.a)(c,2),i=u[0],s=u[1];Object(n.useEffect)((function(){l(e.status)}),[e.status]);return o.a.createElement("div",null,e.authId!==e.userId?o.a.createElement("div",null,r):i?o.a.createElement("input",{value:r,onChange:function(e){l(e.target.value)},onBlur:function(t){e.setStatusThunk(t.target.value),s(!1)},autoFocus:!0}):o.a.createElement("div",{onDoubleClick:function(){s(!0)}},r||"-----"))})),me=a(33),fe=function(e){var t=e.profile;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",t.aboutMe),o.a.createElement("div",null,o.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b:")," ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"),o.a.createElement("div",null,o.a.createElement("b",null,"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438:")," ",t.lookingForAJobDescription," "),o.a.createElement("div",null,o.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:")," ",Object.keys(t.contacts).map((function(e){return o.a.createElement("div",{key:e,className:ie.a.contacts},o.a.createElement("p",null,o.a.createElement("b",null,e,":   "),o.a.createElement("a",{href:t.contacts[e]},t.contacts[e]||"")))}))))},de=function(e){var t=e.profile,a=e.setEditMode,n=e.setProfileChange,r=Object(me.a)({initialValues:{aboutMe:t.aboutMe||"",lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription||"",contacts:{facebook:t.contacts.facebook||"",website:t.contacts.website||"",vk:t.contacts.vk||"",twitter:t.contacts.twitter||"",instagram:t.contacts.instagram||"",youtube:t.contacts.youtube||"",github:t.contacts.github||"",mainLink:t.contacts.mainLink||""}},onSubmit:function(e){a(!1),n(e)}}),l=function(e){"\u0414\u0430"===e.target.value?r.values[e.target.name]=!0:"\u041d\u0435\u0442"===e.target.value&&(r.values[e.target.name]=!1)};return o.a.createElement("form",{onSubmit:r.handleSubmit},o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"aboutMe"},o.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: ")),o.a.createElement("input",{type:"text",id:"aboutMe",name:"aboutMe",value:r.aboutMe,onChange:r.handleChange,onBlur:r.handleBlur})),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"lookingForAJob"},o.a.createElement("b",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b: ")),o.a.createElement("input",{type:"radio",id:"lookingForAJob",name:"lookingForAJob",value:"\u0414\u0430",onChange:l,defaultChecked:r.values.lookingForAJob})," \u0434\u0430",o.a.createElement("input",{type:"radio",id:"lookingForAJob",name:"lookingForAJob",value:"\u041d\u0435\u0442",onChange:l,defaultChecked:!r.values.lookingForAJob})," \u043d\u0435\u0442"),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"lookingForAJobDescription"},o.a.createElement("b",null,"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438: ")),o.a.createElement("input",{id:"lookingForAJobDescription",name:"lookingForAJobDescription",type:"text",value:r.lookingForAJobDescription,onChange:r.handleChange,onBlur:r.handleBlur})),o.a.createElement("div",null,o.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),Object.keys(t.contacts).map((function(e){return o.a.createElement("div",{key:e,className:ie.a.contacts},o.a.createElement("p",null,o.a.createElement("label",{htmlFor:"contacts.".concat(e)},o.a.createElement("b",null,e,": ")),o.a.createElement("input",{id:"contacts.".concat(e),name:"contacts.".concat(e),type:"text",value:r.values.contacts[e],onChange:r.handleChange,onBlur:r.handleBlur})))}))),o.a.createElement("button",{type:"submit",className:ie.a.button},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},he=function(e){var t=e.profile,a=e.isOwner,r=e.setProfileChange,l=Object(n.useState)(!1),c=Object(ce.a)(l,2),u=c[0],i=c[1];return o.a.createElement("div",null,a&&u?o.a.createElement(de,{profile:t,setEditMode:i,setProfileChange:r}):o.a.createElement(fe,{profile:t}),!u&&a?o.a.createElement("button",{onClick:function(){i(!0)},className:ie.a.button},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"):null)},pe=a(32),be=a.n(pe),ge=function(e){var t=Object(n.useState)(e.profile.photos.large),a=Object(ce.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){l(e.profile.photos.large)}),[e.profile.photos.large]);return o.a.createElement("div",{className:ie.a.profileInfo},o.a.createElement("div",{className:ie.a.photoBox},o.a.createElement("div",{className:ie.a.photo},o.a.createElement("img",{src:r||be.a,alt:"avatar"}),e.isOwner&&o.a.createElement("div",null,o.a.createElement("input",{id:"changePhotoButton",type:"file",className:ie.a.changePhotoButton,onChange:function(t){if(t.target.files.length){var a=t.target.files[0];e.setPhotoThunk(a)}}}),o.a.createElement("label",{htmlFor:"changePhotoButton",className:ie.a.label+" "+ie.a.button},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e")))),o.a.createElement("div",{className:ie.a.infoBox},o.a.createElement("div",null,o.a.createElement("b",null,e.profile.fullName)),o.a.createElement("div",null,o.a.createElement("b",null,"\u0421\u0442\u0430\u0442\u0443\u0441: "),o.a.createElement(se,{userId:e.profile.userId})),o.a.createElement("div",null,o.a.createElement(he,{profile:e.profile,isOwner:e.isOwner,setProfileChange:e.setProfileChange}))))},Ee=function(e){return Object(h.b)((function(e){return{isAuth:e.auth.isAuth,isLoading:e.auth.isLoading}}),{})((function(t){return t.isLoading||t.isAuth?o.a.createElement(e,t):o.a.createElement(ne.a,{to:"/login"})}))},ve=a(42),Oe=a.n(ve),_e=function(){return o.a.createElement("div",{className:Oe.a.loadBox},o.a.createElement("div",{className:Oe.a.ldsDualRing}))},ke=o.a.memo((function(e){var t=Object(n.useState)(e.match.params.userId),a=Object(ce.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(!1),u=Object(ce.a)(c,2),i=u[0],s=u[1];return Object(n.useEffect)((function(){e.match.params.userId?(l(e.match.params.userId),s(!1)):(l(e.authUserId),s(!0))}),[e.match.params.userId,e.authUserId]),Object(n.useEffect)((function(){r&&r!==e.profile.userId&&(e.setProfileThunk(r),e.getStatusThunk(r))}),[r]),o.a.createElement("div",null,e.profile?o.a.createElement(ge,{profile:e.profile,isOwner:i,setPhotoThunk:e.setPhotoThunk,setProfileChange:e.setProfileChangeThunk}):o.a.createElement(_e,null))})),je=Object(M.compose)(ne.g,Ee,Object(h.b)((function(e){return{authUserId:e.auth.userId,profile:e.profilePage.profile}}),{setProfileThunk:function(e){return function(t){O(e).then((function(e){var a=e.data;t(Z(a))})).catch((function(e){console.log(e)}))}},getStatusThunk:K,setProfileChangeThunk:function(e){return function(t,a){var n=Object(p.a)(Object(p.a)({},a().profilePage.profile),e);_(n).then((function(e){0===e.data.resultCode?t(Z(n)):console.log(e.data)})).catch((function(e){console.log(e)}))}},setPhotoThunk:function(e){return function(t){S(e).then((function(e){if(0===e.data.resultCode){var a=e.data.data.photos;t({type:"SET-PHOTOS",photos:a})}else console.log(e.data)})).catch((function(e){console.log(e)}))}}}))(ke),Se=a(20),Ce=a.n(Se),we=function(e){var t=Object(n.useState)(!1),a=Object(ce.a)(t,2),r=a[0],l=a[1];Object(n.useEffect)((function(){l(!1)}),[e.followed]);return o.a.createElement("div",{className:Ce.a.userGrid},o.a.createElement("div",{className:Ce.a.userElem},o.a.createElement(m.b,{to:"/profile/"+e.id},null!==e.photo?o.a.createElement("img",{src:e.photo,alt:"avatar",className:Ce.a.avatar}):o.a.createElement("img",{src:be.a,alt:"avatar",className:Ce.a.avatar})),o.a.createElement("div",null,e.isAuth?e.followed?o.a.createElement("button",{className:Ce.a.followButton,onClick:function(){l(!0),e.setFollowedThunk(!1,e.id)},disabled:r},"Unfollow"):o.a.createElement("button",{className:Ce.a.followButton,onClick:function(){l(!0),e.setFollowedThunk(!0,e.id)},disabled:r},"Follow"):null)),o.a.createElement("div",{className:Ce.a.userElem},o.a.createElement("div",null,e.name)))},Te=a(15),Pe=a.n(Te),Ne=function(e){for(var t=Math.ceil(e.totalCount/10),a=[],r=function(t){var a=Number(t.target.textContent);e.onSetPage(a)},l=1;l<=t;l++){var c=void 0;c=l===e.currentPage?o.a.createElement("div",{className:Pe.a.button+" "+Pe.a.currentPageButton,onClick:r,key:l},o.a.createElement("b",null," ",l," ")):o.a.createElement("div",{className:Pe.a.button,onClick:r,key:l},o.a.createElement("span",null," ",l," ")),a.push(c)}for(var u=Math.ceil(a.length/5),i=Object(n.useState)(1),s=Object(ce.a)(i,2),m=s[0],f=s[1],d=5*m,h=[],p=5*(m-1);p<d;p++)h.push(a[p]);return o.a.createElement("div",{className:Pe.a.paginatorBox},o.a.createElement("div",{className:Pe.a.pages},1!==m?o.a.createElement("div",{onClick:function(){return f(1)},className:Pe.a.button},"First"):o.a.createElement("div",null),1!==m?o.a.createElement("div",{onClick:function(){return f(m-1)},className:Pe.a.button},"Prev."):o.a.createElement("div",null),h,m!==u?o.a.createElement("div",{onClick:function(){return f(m+1)},className:Pe.a.button},"Next"):"",m!==u?o.a.createElement("div",{onClick:function(){return f(u)},className:Pe.a.button},"Last"):""))},Be=Object(h.b)((function(e){return{users:e.usersPage.users,totalCount:e.usersPage.totalCount,isSettingFollow:e.usersPage.isSettingFollow,isAuth:e.auth.isAuth}}),{getUsersThunk:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return function(o){C(e,t,a,n).then((function(e){var t=e.data.items,a=e.data.totalCount;o(z(t)),o($(a))})).catch((function(e){console.log(e)}))}},setFollowedThunk:function(e,t){return function(a){e?w(t).then((function(e){0===e.data.resultCode&&a(Q(!0,t))})).catch((function(e){console.log(e)})):T(t).then((function(e){0===e.data.resultCode&&a(Q(!1,t))})).catch((function(e){console.log(e)}))}}})((function(e){var t=Object(n.useState)(1),a=Object(ce.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)([]),u=Object(ce.a)(c,2),i=u[0],s=u[1];Object(n.useEffect)((function(){e.getUsersThunk(r)}),[r]),Object(n.useEffect)((function(){var t=[];e.users&&(t=e.users.map((function(t){return o.a.createElement(we,{id:t.id,photo:t.photos.small,name:t.name,followed:t.followed,setFollowedThunk:e.setFollowedThunk,isSettingFollow:e.isSettingFollow,isAuth:e.isAuth,key:t.id})}))),s(t)}),[e.users]);return e.users?o.a.createElement("div",null,o.a.createElement(Ne,{onSetPage:function(e){l(e)},totalCount:e.totalCount,currentPage:r}),i):o.a.createElement(_e,null)})),Ae=a(60),Le=a.n(Ae),ye=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email-\u0430\u0434\u0440\u0435\u0441"):t.email="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435",e.password||(t.password="\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),t},Fe=a(24),Ie=a.n(Fe),xe=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,isLoading:e.auth.isLoading,captchaURL:e.auth.captchaURL,errorSubmit:e.auth.errorSubmit}}),{LoginThunk:function(e){var t=e.email,a=e.password,n=e.rememberMe,o=e.captcha;return function(e){e(A(!0)),E(t,a,n,o).then((function(t){if(0===t.data.resultCode)g().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,o=a.email,r=a.login;e(B(n,o,r,!0))}e(A(!1))})).catch((function(e){console.log(e)}));else if(10===t.data.resultCode)P().then((function(t){var a=t.data.url;e({type:"SET-CAPTCHA-URL",url:a}),e(A(!1))}));else{var a=t.data.messages;e({type:"SET-ERROR-SUBMIT",error:a})}})).catch((function(e){console.log(e)}))}}})((function(e){var t=Object(me.a)({initialValues:{email:"",password:"",captcha:""},validate:ye,onSubmit:function(t){e.LoginThunk(t)}});return e.isAuth&&!e.isLoading?o.a.createElement(ne.a,{to:"/profile"}):o.a.createElement("form",{onSubmit:t.handleSubmit,className:Ie.a.gridBox},o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("input",{id:"email",name:"email",type:"email",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email}),t.touched.email&&t.errors.email?o.a.createElement("div",{className:Ie.a.error},t.errors.email):o.a.createElement("div",null),o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{id:"password",name:"password",type:"password",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.password}),t.touched.password&&t.errors.password?o.a.createElement("div",{className:Ie.a.error},t.errors.password):o.a.createElement("div",null),e.captchaURL&&o.a.createElement("img",{src:e.captchaURL,alt:"captcha"}),e.captchaURL&&o.a.createElement("input",{id:"captcha",name:"captcha",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.captcha}),o.a.createElement("button",{type:"submit"},"\u0412\u043e\u0439\u0442\u0438"),e.errorSubmit&&o.a.createElement("div",{className:Ie.a.error},e.errorSubmit))})),Ue=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.authUserThunk()}},{key:"render",value:function(){return o.a.createElement("div",{className:Le.a.main},o.a.createElement(le,null),o.a.createElement(ne.d,null,o.a.createElement(ne.a,{exact:!0,from:"/",to:"/profile"}),o.a.createElement(ne.b,{path:"/profile/:userId?",render:function(){return o.a.createElement(je,null)}}),o.a.createElement(ne.b,{path:"/users",render:function(){return o.a.createElement(Be,null)}}),o.a.createElement(ne.b,{path:"/login",render:function(){return o.a.createElement(xe,null)}})))}}]),a}(n.PureComponent),Re=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,isLoading:e.auth.isLoading}}),{authUserThunk:function(){return function(e){e(A(!0)),g().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,o=a.email,r=a.login;e(B(n,o,r,!0))}e(A(!1))})).catch((function(e){console.log(e)}))}}})(Ue),De=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement(h.a,{store:ae},o.a.createElement(m.a,null,o.a.createElement("div",{className:"wrapper"},o.a.createElement(y,null),o.a.createElement(Re,null),o.a.createElement(J,null))))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.4c396af7.chunk.js.map